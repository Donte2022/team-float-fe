
<div *ngIf="Pro !== undefined" class="m-3">
  <div class="d-flex justify-content-between product mb-5 p-3">
    <img src="{{img}}" (error)="onImageError()" id="image" alt="{{Pro.displayName}}" >
    <div class="card-body me-3">
      <div class="mb-3 fs-2">{{Pro.displayName}}</div>
      <div>Description: {{Pro.description}}</div>
      <div>Discontinued: {{Pro.discontinued}}</div>
      <div>Date available: {{dateFormat()}}</div>
      <div *ngIf="rank < 3"> Base Price:{{Pro.price}}</div>
      <div>Price: {{displayPrice}}</div>
      <div>Weight: {{Pro.weight}}</div>
      <div *ngIf="rank<3">MAP price{{Pro.map}}</div>
      <div *ngIf="rank<3">Cost to Make:{{Pro.costToMake}}</div>
      <div class="d-flex justify-content-between align-items-center mt-2">
        <div>
          <div *ngIf="Pro.categories.length != 0">Categories</div>
          <div *ngFor="let c of Pro.categories" class="fw-light badge rounded-pill mx-1 p-1 cat-pills">{{c.name}}</div>
        </div>
        <div class="d-flex justify-content-end">
          <input [(ngModel)]="quantity" type="number" class="text-end w-25"/>
          <button (click)="addToCart()" class="btn add-btn ms-1">Add to cart</button>
          <p *ngIf="addedMessage">Added to cart</p>
        </div>
      </div>
    </div>

    <div *ngIf="rank < 3" class="product-shopkeep-div">
      <div>
        <button (click)="onProductEdit()" class="btn shopkeep-btn mx-2">Edit product</button>
        <button (click)="onDelete()" class="btn shopkeep-btn mx-2">Delete</button>
        <button (click)="onPriceChangeCreateScreen()" class="btn shopkeep-btn mx-2">Price Change Create</button>
      </div>
      <div class="ms-3 mt-3">
        <div class="text-center fw-bold mb-2 mt-5">Price Change Requests</div>
        <app-price-change-request *ngFor="let pri of Pro.priceChange" [pri]="pri" [pro]="Pro"></app-price-change-request>
      </div>
    </div>
  </div>
  </div>
